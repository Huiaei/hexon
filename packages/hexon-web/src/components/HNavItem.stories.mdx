import { markRaw } from "vue";
import { Meta, Story, Canvas } from "@storybook/addon-docs";
import {
  Search24Filled,
  Folder24Filled,
  CheckmarkCircle24Filled,
} from "@vicons/fluent";
import HNavItem from "./HNavItem.vue";
import HNavTitle from "./HNavTitle.vue";
import { useTheme } from "../lib/theme";

<Meta title="HNavItem" component={HNavItem} name="HNavItem" argTypes={{}} />

# HNavItem

## 基础

<Canvas>
  <Story
    name="基础"
    decorators={[
      () => ({
        template: `
<div style="background-color:var(--color-background-3);padding:20px;display:inline-block;width:200px">
  <story />
</div>
        `,
      }),
    ]}
  >
    {() => ({
      setup() {
        const t = useTheme();
        return { t };
      },
      computed: {
        data() {
          return [
            {
              text: "不同颜色和图标",
              icon: markRaw(Search24Filled),
              color: this.t.color.primary.n,
            },
            {
              text: "不同颜色和图标",
              icon: markRaw(CheckmarkCircle24Filled),
              color: this.t.color.success.n,
            },
            {
              text: "无缩进",
              icon: markRaw(Folder24Filled),
              color: this.t.color.folder,
            },
            {
              text: "有缩进",
              icon: markRaw(Folder24Filled),
              indent: 1,
              color: this.t.color.folder,
            },
          ];
        },
      },
      components: { HNavItem },
      template: `
<HNavItem :text="d.text" :icon="d.icon" :indent="d.indent" :color="d.color" v-for="d in data"></HNavItem>
      `,
    })}
  </Story>
</Canvas>

## 和 NavTitle 一起用

<Canvas>
  <Story
    name="和 NavTitle 一起用"
    decorators={[
      () => ({
        template: `
<div style="background-color:var(--color-background-3);padding:20px;display:inline-block;width:200px">
  <story />
</div>
        `,
      }),
    ]}
  >
    {() => ({
      setup() {
        const t = useTheme();
        return { t };
      },
      computed: {
        data() {
          return [
            {
              text: "学习",
              icon: markRaw(Folder24Filled),
              color: this.t.color.folder,
            },
            {
              text: "JavaScript",
              icon: markRaw(Folder24Filled),
              indent: 1,
              color: this.t.color.folder,
            },
          ];
        },
      },
      components: { HNavItem, HNavTitle },
      template: `
<HNavTitle>文件夹</HNavTitle>
<HNavItem :text="d.text" :icon="d.icon" :indent="d.indent" :color="d.color" v-for="d in data"></HNavItem>
      `,
    })}
  </Story>
</Canvas>
