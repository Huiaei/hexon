(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"04dc":function(t,s,e){"use strict";e("569a")},"06e5":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"m-input row items-center",class:{error:t.error}},[t._t("prepend"),e("q-input",{ref:"input",staticClass:"col",attrs:{type:t.type,mask:t.mask,placeholder:t.placeholder,disable:t.disable,borderless:"",dense:"","stack-label":""},on:{keydown:function(s){return t.$emit("keydown",s)},blur:function(s){return t.$emit("blur",s)},focus:function(s){return t.$emit("focus",s)}},nativeOn:{compositionstart:function(s){t.composition=!0},compositionend:function(s){t.composition=!1}},model:{value:t.innerValue,callback:function(s){t.innerValue=s},expression:"innerValue"}}),!t.disable&&t.clearable?e("q-icon",{staticClass:"q-ml-sm cursor-pointer",attrs:{name:"close"},on:{click:t.onClear}}):t._e(),t._t("append")],2)},a=[],n={name:"MInput",props:{value:String,placeholder:String,type:String,mask:String,disable:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},error:{type:Boolean,default:!1}},data(){return{innerValue:this.value,composition:!1}},watch:{value(t){this.innerValue=t},innerValue(t){this.$emit("input",t)}},methods:{onClear(){this.innerValue="",this.focus()},focus(){this.$refs.input.focus()}}},l=n,r=(e("88e8"),e("2877")),c=e("27f9"),o=e("0016"),u=e("8572"),d=e("eebe"),m=e.n(d),p=Object(r["a"])(l,i,a,!1,null,null,null);s["a"]=p.exports;m()(p,"components",{QInput:c["a"],QIcon:o["a"],QField:u["a"]})},"569a":function(t,s,e){},8642:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("q-page",{staticClass:"column",attrs:{"style-fn":t.styleFn}},[i("q-carousel",{staticClass:"installer text-white col",attrs:{"transition-prev":"jump-right","transition-next":"jump-left",swipeable:"",animated:"","control-color":"white",padding:""},model:{value:t.slide,callback:function(s){t.slide=s},expression:"slide"}},[i("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"welcome"}},[i("img",{staticStyle:{"max-width":"100px",margin:"0 auto",display:"block"},attrs:{src:e("8f374")}}),i("h2",[t._v("欢迎使用Hexon")]),i("q-btn",{staticClass:"btn",attrs:{ripple:!1,rounded:""},on:{click:t.next}},[i("q-icon",{staticClass:"q-mr-sm",attrs:{name:"campaign"}}),t._v("\n        Let's hexo online!\n      ")],1),i("div",{staticClass:"q-mt-xl text-center"},[t._v("\n        一个在线hexo博客编辑器\n      ")])],1),i("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"user"}},[i("q-form",{staticClass:"column no-wrap flex-center",on:{submit:t.next}},[i("h3",{staticClass:"title"},[t._v("请设置账户")]),i("table",{staticClass:"min-width"},[i("tbody",[i("tr",{staticClass:"item"},[i("td",[t._v("用户名")]),i("td",[i("m-input",{staticClass:"q-my-sm",model:{value:t.username,callback:function(s){t.username=s},expression:"username"}})],1)]),i("tr",{staticClass:"item"},[i("td",[t._v("密码")]),i("td",[i("m-input",{staticClass:"q-my-sm",attrs:{type:"password"},model:{value:t.password,callback:function(s){t.password=s},expression:"password"}})],1)])])]),i("div",{staticClass:"q-mt-xl"},[i("q-btn",{staticClass:"btn",attrs:{ripple:!1,label:"上一步",rounded:""},on:{click:t.prev}}),i("q-btn",{staticClass:"q-ml-md btn",attrs:{ripple:!1,label:"下一步",rounded:"",type:"submit",disable:!t.userValid}})],1)])],1),i("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"security"}},[i("q-form",{staticClass:"column no-wrap flex-center",on:{submit:t.next}},[i("h3",{staticClass:"title"},[t._v("请配置网站安全项")]),i("table",{staticClass:"min-width"},[i("tbody",[i("tr",{staticClass:"item"},[i("td",[t._v("secret")]),i("td",[i("m-input",{model:{value:t.secret,callback:function(s){t.secret=s},expression:"secret"}})],1)]),i("tr",{staticClass:"caption q-mb-md"},[i("td"),i("td",[t._v("用于通讯加密，默认随机生成")])]),i("tr",{staticClass:"item"},[i("td",[t._v("expire")]),i("td",[i("m-input",{model:{value:t.expire,callback:function(s){t.expire=s},expression:"expire"}})],1)]),i("tr",{staticClass:"caption q-mb-md"},[i("td"),i("td",[t._v("密钥过期时间，默认"),i("code",[t._v("1h")])])]),i("tr",{staticClass:"item"},[i("td",[t._v("refresh")]),i("td",[i("m-input",{model:{value:t.refresh,callback:function(s){t.refresh=s},expression:"refresh"}})],1)]),i("tr",{staticClass:"caption q-mb-md"},[i("td"),i("td",[t._v("刷新密钥过期时间，默认"),i("code",[t._v("7d")])])])])]),i("q-btn",{staticClass:"q-ml-sm q-mt-xl btn",attrs:{ripple:!1,icon:"campaign",label:"安装",rounded:"",disable:!t.canInstall,type:"submit"}})],1)],1),i("q-carousel-slide",{staticClass:"column no-wrap flex-center",attrs:{name:"install"}},["installing"===t.install.status?[i("q-spinner-gears",{attrs:{size:"3rem",thickness:5}}),i("h3",{staticClass:"title"},[t._v("正在安装")])]:t._e(),t.install.error?[i("h3",{staticClass:"title"},[t._v("安装失败")]),i("div",{staticClass:"q-mt-md q-pa-sm text-center text-bold error"},[i("q-icon",{staticClass:"q-mr-sm",attrs:{name:"warning",size:"xx-large"}}),t._v("\n          "+t._s(t.install.error)+"\n        ")],1)]:t._e(),"done"===t.install.status?[i("h3",{staticClass:"title"},[t._v("完成")]),i("q-btn",{staticClass:"btn",attrs:{ripple:!1,to:"/",rounded:""}},[i("q-icon",{staticClass:"q-mr-sm",attrs:{name:"campaign"}}),t._v("\n          Let's hexo online!\n        ")],1)]:t._e()],2)],1),i("q-page-sticky",{attrs:{position:"bottom",expand:""}},[i("span",{staticClass:"text-caption text-white q-pb-sm",staticStyle:{opacity:"0.3"}},[t._v("©️ 2019 ~ "+t._s(t.year)+" winwin_2011 with Love")])])],1)},a=[],n=(e("e6cf"),e("365c")),l=e("381a"),r=e.n(l),c=e("06e5"),o=e("df2f"),u=e.n(o),d=e("0c6d"),m={name:"Install",data(){return{slide:"welcome",secret:r()(16),expire:"1h",refresh:"7d",username:"",password:"",install:{status:"init",error:""}}},components:{MInput:c["a"]},methods:{styleFn(t,s){return{height:s+"px"}},prev(){const{slide:t}=this;if("user"!==t){if("security"!==t)return!1;this.slide="user"}else this.slide="welcome"},next(){const{slide:t}=this;if("welcome"!==t)if("user"!==t){if("security"!==t)return!1;if(!this.securityValid)return;this.doinstall()}else{if(!this.userValid)return;this.slide="security"}else this.slide="user"},nextInstall(){},async doinstall(){if(!this.canInstall)return;let t;this.slide="install";try{t=setTimeout((()=>{this.install.status="installing"}),200),await n["a"].install.install({secret:this.secret,expire:this.expire,refresh:this.refresh,username:this.username,password:u()(this.password).toString()}),clearTimeout(t),t=void 0,this.install.status="done"}catch(s){if(this.install.status="error",this.install.error=s instanceof d["a"]?s.message:"unknown error",!s instanceof d["a"])throw s}}},computed:{year(){return(new Date).getFullYear()},securityValid(){return!!(this.secret&&this.expire&&this.refresh)},userValid(){return this.username&&this.password},canInstall(){return this.securityValid&&this.userValid}}},p=m,M=(e("04dc"),e("2877")),D=e("9989"),N=e("880c"),x=e("62cd"),w=e("9c40"),h=e("0016"),b=e("0378"),y=e("cf57"),I=e("de5e"),C=e("eebe"),g=e.n(C),f=Object(M["a"])(p,i,a,!1,null,null,null);s["default"]=f.exports;g()(f,"components",{QPage:D["a"],QCarousel:N["a"],QCarouselSlide:x["a"],QBtn:w["a"],QIcon:h["a"],QForm:b["a"],QSpinnerGears:y["a"],QPageSticky:I["a"]})},"88e8":function(t,s,e){"use strict";e("9920")},"8f374":function(t,s){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+Cjxzdmcgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgdmlld0JveD0iMCAwIDEyNDAgMTI0MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bWw6c3BhY2U9InByZXNlcnZlIiB4bWxuczpzZXJpZj0iaHR0cDovL3d3dy5zZXJpZi5jb20vIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjI7Ij4KICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEuMTYxMDIsMCwwLDEuMTYxMDIsLTIyLjk5ODIsMzIuOTExOCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjU1My44MjEiIGN5PSI1MDUuNjY0IiByPSI0MTcuMTk3IiBzdHlsZT0iZmlsbDp3aGl0ZTsiLz4KICAgIDwvZz4KICAgIDxwYXRoIGQ9Ik03NTUuNjI3LDM4MS4yMDNDNzU1Ljc1OSwzNTYuNTg1IDc3NS43ODUsMzM2LjY0MSA4MDAuNDMxLDMzNi42NDFDODI1LjE2LDMzNi42NDEgODQ1LjIzNiwzNTYuNzE4IDg0NS4yMzYsMzgxLjQ0Nkw4NDUuMjM1LDM4MS42ODhMODQ1LjIzNiwzODEuNjg4TDg0NS4yMzYsODU4Ljc5OUw4NDUuMDAxLDg1OC45MzVDODQyLjY4OCw4ODEuNSA4MjMuNjAyLDg5OS4xMjYgODAwLjQzMSw4OTkuMTI2Qzc3Ni45OTksODk5LjEyNiA3NTcuNzQzLDg4MS4wOTkgNzU1Ljc5LDg1OC4xNjlMNzU1LjYyNyw4NTguMDcyTDc1NS42MjcsNjY2LjAxN0w0ODQuMzc2LDY2Ni4wMTdMNDg0LjM3Niw4NTguNzk5TDQ4NC4xNDEsODU4LjkzNUM0ODEuODI4LDg4MS41IDQ2Mi43NDIsODk5LjEyNiA0MzkuNTcxLDg5OS4xMjZDNDE2LjEzOSw4OTkuMTI2IDM5Ni44ODMsODgxLjA5OSAzOTQuOTMsODU4LjE2OUwzOTQuNzY2LDg1OC4wNzJMMzk0Ljc2NiwzODAuOTYyTDM5NC43NjksMzgwLjk2QzM5NS4wMzIsMzU2LjQ1NCA0MTUuMDA2LDMzNi42NDEgNDM5LjU3MSwzMzYuNjQxQzQ2NC4yMDMsMzM2LjY0MSA0ODQuMjE5LDM1Ni41NjEgNDg0LjM3NSwzODEuMTU3TDQ4NC4zNzYsMzgxLjQ0Nkw0ODQuMzc2LDU3My45ODZMNzU1LjYyNyw1NzMuOTg2TDc1NS42MjcsMzgxLjIwNEw3NTUuNjI3LDM4MS4yMDNaIiBzdHlsZT0iZmlsbDpyZ2IoMTQsMTMxLDIwNSk7ZmlsbC1ydWxlOm5vbnplcm87Ii8+Cjwvc3ZnPgo="},9920:function(t,s,e){}}]);